!function(t,e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define(e());else t.drift=e()}(this,function(){"use strict";function t(){this.next=this,this.prev=this,this.length=0}var e=t.prototype=Object.create(null,{constructor:{value:t}});e.remove=function(t){if(0===this.length)return;return t.next.prev=t.prev,t.prev.next=t.next,this.length--,t},e.insert=function(t,e){return t.next=e,t.prev=e.prev,e.prev.next=t,e.prev=t,this.length++,t},e.push=function(t){return this.insert(t,this)},e.pop=function(){return this.remove(this.prev)},e.shift=function(){return this.remove(this.next)},e.unshift=function(t){return this.insert(t,this.next)},e.forEach=function(t){for(var e=0,n=this;e<this.length;e++)t.call(this,n=n.next,e)}});